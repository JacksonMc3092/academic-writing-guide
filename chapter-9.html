<!DOCTYPE html><html lang="en"><head><meta name="x-poe-datastore-behavior" content="local_only"><meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strategies for Getting Started - Scholar's Compass</title>
    <meta name="description" content="Master pre-writing techniques including clustering, listing, outlining, freewriting, and questioning strategies.">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4a6fa5;
            --primary-dark: #345280;
            --primary-light: #6a8ec7;
            --secondary: #ff8c42;
            --secondary-light: #ffab70;
            --accent: #6a7fdb;
            --light: #f8f9fa;
            --dark: #222;
            --dark-secondary: #333;
            --dark-text: #f0f0f0;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --gray: #6c757d;
            --light-gray: #e9ecef;
            --dark-gray: #444;
            --orange-glow: rgba(255, 140, 66, 0.15);
            --orange-hover: rgba(255, 140, 66, 0.8);
            --transition-smooth: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-quick: all 0.15s ease-out;
            --shadow-soft: 0 2px 10px rgba(0,0,0,0.1);
            --shadow-medium: 0 5px 25px rgba(0,0,0,0.15);
            --border-radius: 8px;
            --min-touch-target: 44px;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background-color: var(--light);
            color: var(--dark);
            font-size: 18px;
            padding: 0;
            margin: 0;
            background-image: linear-gradient(to bottom, #f8f9fa, #e9ecef);
            min-height: 100vh;
            transition: var(--transition-smooth);
            padding-top: 70px;
            opacity: 0;
            animation: fadeInPage 0.6s ease-out forwards;
        }

        @keyframes fadeInPage {
            to { opacity: 1; }
        }

        body.dark-mode {
            background-color: var(--dark);
            color: var(--dark-text);
            background-image: linear-gradient(to bottom, #222, #333);
        }

        /* Progress Bar at very top */
        .progress-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: transparent;
            z-index: 1000;
        }

        .progress-bar {
            height: 5px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Enhanced Navigation Styles */
        .navbar {
            position: fixed;
            top: 5px;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow-soft);
            padding: 15px 0;
            z-index: 1000;
            transition: var(--transition-smooth);
        }

        body.dark-mode .navbar {
            background: rgba(51, 51, 51, 0.95);
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .navbar-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .hamburger-menu {
            background: none;
            border: none;
            cursor: pointer;
            padding: 12px;
            border-radius: var(--border-radius);
            transition: var(--transition-smooth);
            min-width: var(--min-touch-target);
            min-height: var(--min-touch-target);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 4px;
        }

        .hamburger-menu:hover {
            background-color: var(--orange-glow);
            box-shadow: 0 0 15px var(--orange-glow);
        }

        .hamburger-menu:focus {
            outline: 2px solid var(--secondary);
            outline-offset: 2px;
        }

        body.dark-mode .hamburger-menu:hover {
            background-color: var(--dark-gray);
        }

        .hamburger-menu .bar {
            display: block;
            width: 25px;
            height: 3px;
            background-color: var(--primary);
            transition: var(--transition-smooth);
            border-radius: 1px;
        }

        body.dark-mode .hamburger-menu .bar {
            background-color: var(--primary-light);
        }

        .hamburger-menu.active .bar:nth-child(1) {
            transform: rotate(-45deg) translate(-6px, 6px);
        }

        .hamburger-menu.active .bar:nth-child(2) {
            opacity: 0;
        }

        .hamburger-menu.active .bar:nth-child(3) {
            transform: rotate(45deg) translate(-6px, -6px);
        }

        .navbar-brand {
            font-weight: bold;
            color: var(--primary);
            text-decoration: none;
            font-size: 1.2em;
            display: flex;
            align-items: center;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            transition: var(--transition-smooth);
            padding: 8px 16px;
            border-radius: var(--border-radius);
        }

        .navbar-brand:hover {
            color: var(--secondary);
            text-decoration: none;
            background-color: var(--orange-glow);
            box-shadow: 0 0 20px var(--orange-glow);
        }

        body.dark-mode .navbar-brand {
            color: var(--primary-light);
        }

        body.dark-mode .navbar-brand:hover {
            color: var(--secondary-light);
        }

        .navbar-brand i {
            margin-right: 8px;
            font-size: 1.1em;
        }

        /* Enhanced Sidebar Navigation */
        .sidebar {
            position: fixed;
            top: 0;
            left: -350px;
            width: 350px;
            height: 100vh;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(15px);
            box-shadow: 2px 0 20px rgba(0,0,0,0.15);
            transition: left 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1001;
            overflow-y: auto;
            overflow-x: hidden;
        }

        body.dark-mode .sidebar {
            background: rgba(51, 51, 51, 0.98);
            box-shadow: 2px 0 20px rgba(0,0,0,0.3);
        }

        .sidebar.active {
            left: 0;
        }

        .sidebar-header {
            padding: 20px;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1002;
        }

        .sidebar-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.5em;
            cursor: pointer;
            padding: 8px;
            border-radius: var(--border-radius);
            transition: var(--transition-smooth);
            min-width: var(--min-touch-target);
            min-height: var(--min-touch-target);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .sidebar-close:hover {
            background-color: rgba(255,255,255,0.2);
            transform: rotate(90deg);
        }

        .sidebar-content {
            padding: 20px 0;
        }

        .sidebar-section {
            margin-bottom: 30px;
        }

        .sidebar-section h3 {
            padding: 0 20px 10px;
            color: var(--gray);
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-bottom: 1px solid var(--light-gray);
            margin-bottom: 15px;
            font-weight: 600;
        }

        body.dark-mode .sidebar-section h3 {
            color: #aaa;
            border-bottom-color: #444;
        }

        .sidebar-link {
            display: block;
            padding: 15px 20px;
            color: var(--dark);
            text-decoration: none;
            transition: var(--transition-smooth);
            border-left: 3px solid transparent;
            position: relative;
            min-height: var(--min-touch-target);
            display: flex;
            align-items: center;
        }

        body.dark-mode .sidebar-link {
            color: var(--dark-text);
        }

        .sidebar-link:hover {
            background-color: var(--orange-glow);
            color: var(--secondary);
            text-decoration: none;
            border-left-color: var(--secondary);
            transform: translateX(5px);
            box-shadow: inset 0 0 20px var(--orange-glow);
        }

        body.dark-mode .sidebar-link:hover {
            background-color: var(--dark-gray);
            color: var(--secondary-light);
        }

        .sidebar-link.current {
            background-color: var(--orange-glow);
            color: var(--secondary);
            border-left-color: var(--secondary);
            font-weight: 600;
            box-shadow: inset 0 0 15px var(--orange-glow);
        }

        body.dark-mode .sidebar-link.current {
            background-color: var(--dark-gray);
            color: var(--secondary-light);
            border-left-color: var(--secondary-light);
        }

        .sidebar-link i {
            margin-right: 12px;
            width: 20px;
            text-align: center;
            font-size: 1.1em;
        }

        .reading-time {
            font-size: 0.75em;
            color: var(--gray);
            opacity: 0.8;
            margin-left: auto;
            padding-left: 10px;
        }

        /* Enhanced Overlay */
        .sidebar-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition-smooth);
            backdrop-filter: blur(3px);
        }

        .sidebar-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* Enhanced Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: var(--shadow-medium);
            margin-top: 30px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
            transition: var(--transition-smooth);
        }

        body.dark-mode .container {
            background-color: var(--dark-secondary);
            box-shadow: 0 5px 25px rgba(0,0,0,0.3);
        }

        .container::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(to right, var(--primary), var(--accent), var(--secondary));
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }

        h1 {
            color: var(--primary);
            font-size: 2.8em;
            margin-bottom: 10px;
            padding-bottom: 15px;
            position: relative;
            display: inline-block;
            transition: var(--transition-smooth);
        }

        h1:hover {
            color: var(--secondary);
            text-shadow: 0 0 20px var(--orange-glow);
        }

        body.dark-mode h1 {
            color: var(--primary-light);
        }

        h1::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: linear-gradient(to right, var(--primary), var(--accent));
            border-radius: 2px;
            transition: var(--transition-smooth);
        }

        h1:hover::after {
            width: 120px;
            background: linear-gradient(to right, var(--secondary), var(--accent));
        }

        .subtitle {
            font-style: italic;
            margin-bottom: 20px;
            color: var(--gray);
            font-size: 1.2em;
            transition: var(--transition-smooth);
        }

        body.dark-mode .subtitle {
            color: #aaa;
        }

        /* Enhanced Stats Bar */
        .stats-bar {
            display: flex;
            justify-content: space-around;
            background: var(--light);
            padding: 20px;
            border-radius: var(--border-radius);
            margin: 25px 0;
            box-shadow: var(--shadow-soft);
            transition: var(--transition-smooth);
        }

        .stats-bar:hover {
            box-shadow: var(--shadow-medium);
            transform: translateY(-2px);
        }

        body.dark-mode .stats-bar {
            background: var(--dark-gray);
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .stat {
            text-align: center;
            transition: var(--transition-smooth);
            padding: 10px;
            border-radius: var(--border-radius);
        }

        .stat:hover {
            background-color: var(--orange-glow);
            transform: scale(1.05);
        }

        .stat-label {
            font-size: 1.1em;
            font-weight: bold;
            color: var(--primary);
            display: block;
        }

        body.dark-mode .stat-label {
            color: var(--primary-light);
        }

        /* Enhanced Sections */
        .section {
            margin-bottom: 25px;
            background: #fff;
            border: 2px solid var(--light-gray);
            border-radius: 10px;
            overflow: hidden;
            transition: var(--transition-smooth);
        }

        body.dark-mode .section {
            background: var(--dark-secondary);
            border-color: #444;
        }

        .section:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-medium);
            border-color: var(--orange-hover);
        }

        body.dark-mode .section:hover {
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .section-header {
            background-color: var(--primary);
            color: white;
            padding: 20px;
            font-weight: bold;
            font-size: 1.3em;
            cursor: pointer;
            margin: 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: var(--transition-smooth);
            position: relative;
            overflow: hidden;
        }

        .section-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,140,66,0.3), transparent);
            transition: left 0.6s;
        }

        .section-header:hover::before {
            left: 100%;
        }

        .section-header:hover {
            background-color: var(--secondary);
            box-shadow: 0 0 20px var(--orange-glow);
        }

        .section-icon {
            transition: var(--transition-smooth);
            font-size: 1.2em;
        }

        .section.active .section-icon {
            transform: rotate(90deg);
            color: var(--secondary-light);
        }

        .section-content {
            padding: 25px;
            font-size: 1.1em;
            line-height: 1.7;
            transition: var(--transition-smooth);
            display: none;
        }

        .section.active .section-content {
            display: block;
            animation: fadeInContent 0.5s ease-out;
        }

        @keyframes fadeInContent {
            from { 
                opacity: 0; 
                transform: translateY(10px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }

        body.dark-mode .section-content {
            color: var(--dark-text);
        }

        .section-content p {
            margin: 0 0 15px 0;
        }
        
        .section-content ul, .section-content ol {
            padding-left: 25px;
            margin: 15px 0;
        }
        
        .section-content li {
            margin-bottom: 10px;
            font-size: 1.05em;
        }

        /* Enhanced Interactive Elements */
        .example-box, .highlight-box, .tools-note, .practice-item, .key-takeaway {
            transition: var(--transition-smooth);
            position: relative;
            overflow: hidden;
        }

        .example-box:hover, .highlight-box:hover, .tools-note:hover, .practice-item:hover, .key-takeaway:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
        }

        .example-box {
            background-color: #e3f2fd;
            padding: 20px;
            border-radius: var(--border-radius);
            margin: 20px 0;
            border-left: 4px solid var(--primary);
            font-style: italic;
            position: relative;
            transition: var(--transition-smooth);
        }

        body.dark-mode .example-box {
            background-color: #2a4365;
            color: #e3f2fd;
            border-left-color: var(--primary-light);
        }

        .example-box::before {
            content: "Example";
            position: absolute;
            top: -12px;
            left: 15px;
            background: var(--primary);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.8em;
            font-style: normal;
            font-weight: bold;
            transition: var(--transition-smooth);
        }

        .example-box:hover::before {
            background: var(--secondary);
        }

        body.dark-mode .example-box::before {
            background: var(--primary-light);
        }

        .example-box strong {
            color: #1565c0;
            font-style: normal;
        }

        body.dark-mode .example-box strong {
            color: #90cdf4;
        }

        .highlight-box {
            background-color: #d1ecf1;
            padding: 15px;
            border-radius: var(--border-radius);
            margin: 15px 0;
            border: 1px solid #bee5eb;
            position: relative;
            transition: var(--transition-smooth);
        }

        body.dark-mode .highlight-box {
            background-color: #1c3a4f;
            color: #d1ecf1;
            border-color: #2c5282;
        }

        .highlight-box::before {
            content: "Research Insight";
            position: absolute;
            top: -10px;
            left: 15px;
            background: var(--accent);
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: bold;
            transition: var(--transition-smooth);
        }

        .highlight-box:hover::before {
            background: var(--secondary);
        }

        .tools-note {
            background-color: #d4edda;
            padding: 15px;
            border-radius: var(--border-radius);
            margin: 15px 0;
            border-left: 3px solid var(--success);
            position: relative;
            transition: var(--transition-smooth);
        }

        body.dark-mode .tools-note {
            background-color: #1d3a2d;
            color: #d4edda;
            border-left-color: #38a169;
        }

        .tools-note::before {
            content: "Toolkit";
            position: absolute;
            top: -10px;
            left: 15px;
            background: var(--success);
            color: white;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: bold;
            transition: var(--transition-smooth);
        }

        .tools-note:hover::before {
            background: var(--secondary);
        }

        .practice-item {
            background-color: #fff3cd;
            padding: 15px;
            border-radius: var(--border-radius);
            margin: 15px 0;
            border-left: 4px solid var(--warning);
            position: relative;
            transition: var(--transition-smooth);
        }

        body.dark-mode .practice-item {
            background-color: #5a4a1f;
            color: #ffeaa7;
            border-left-color: #f9c74f;
        }

        .practice-item::before {
            content: "Practice";
            position: absolute;
            top: -10px;
            left: 15px;
            background: var(--warning);
            color: #333;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: bold;
            transition: var(--transition-smooth);
        }

        .practice-item:hover::before {
            background: var(--secondary);
            color: white;
        }

        .practice-item strong {
            color: #856404;
            display: block;
            margin-bottom: 8px;
            font-size: 1.1em;
        }

        body.dark-mode .practice-item strong {
            color: #f9c74f;
        }

        .key-takeaway {
            background-color: #f8f9fa;
            border-left: 4px solid var(--accent);
            padding: 20px;
            margin: 25px 0;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
            transition: var(--transition-smooth);
        }

        body.dark-mode .key-takeaway {
            background-color: #2d3748;
            color: #e2e8f0;
        }

        .key-takeaway h4 {
            color: var(--accent);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            transition: var(--transition-smooth);
        }

        .key-takeaway:hover h4 {
            color: var(--secondary);
        }

        .key-takeaway h4 i {
            margin-right: 10px;
        }

        /* Enhanced Interactive Elements */
        .interactive-element {
            background: var(--light);
            border-radius: var(--border-radius);
            padding: 15px;
            margin: 20px 0;
            border: 2px dashed var(--primary);
            transition: var(--transition-smooth);
        }

        .interactive-element:hover {
            border-color: var(--secondary);
            background-color: var(--orange-glow);
            box-shadow: var(--shadow-medium);
        }

        body.dark-mode .interactive-element {
            background: var(--dark-gray);
            border-color: var(--primary-light);
        }

        .interactive-element h3 {
            color: var(--primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            transition: var(--transition-smooth);
        }

        .interactive-element:hover h3 {
            color: var(--secondary);
        }

        body.dark-mode .interactive-element h3 {
            color: var(--primary-light);
        }

        .interactive-element h3 i {
            margin-right: 10px;
        }

        /* Enhanced Buttons */
        .btn, .video-link {
            display: inline-flex;
            align-items: center;
            padding: 12px 24px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: bold;
            text-decoration: none;
            transition: var(--transition-smooth);
            min-height: var(--min-touch-target);
            position: relative;
            overflow: hidden;
            margin: 5px;
        }

        .btn::before, .video-link::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.6s;
        }

        .btn:hover::before, .video-link:hover::before {
            left: 100%;
        }

        .btn:hover, .video-link:hover {
            background: var(--secondary);
            color: white;
            text-decoration: none;
            transform: translateY(-2px);
            box-shadow: 0 0 20px var(--orange-glow);
        }

        .video-link {
            margin-top: 15px;
        }

        .video-link i, .btn i {
            margin-right: 8px;
        }

        /* Enhanced Quick Navigation */
        .quick-nav {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-soft);
            padding: 15px 10px;
            z-index: 999;
            display: flex;
            flex-direction: column;
            transition: var(--transition-smooth);
        }

        body.dark-mode .quick-nav {
            background: rgba(51, 51, 51, 0.95);
            box-shadow: 0 3px 15px rgba(0,0,0,0.3);
        }

        .quick-nav a {
            display: block;
            text-align: center;
            margin: 8px 0;
            color: var(--primary);
            font-size: 1.5em;
            text-decoration: none;
            position: relative;
            transition: var(--transition-smooth);
            padding: 8px;
            border-radius: var(--border-radius);
            min-width: var(--min-touch-target);
            min-height: var(--min-touch-target);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quick-nav a:hover {
            color: var(--secondary);
            background-color: var(--orange-glow);
            transform: scale(1.1);
            box-shadow: 0 0 15px var(--orange-glow);
        }

        .quick-nav a.active {
            color: var(--secondary);
            background-color: var(--orange-glow);
            box-shadow: 0 0 10px var(--orange-glow);
        }

        body.dark-mode .quick-nav a {
            color: var(--primary-light);
        }

        .quick-nav a span {
            position: absolute;
            right: 100%;
            top: 50%;
            transform: translateY(-50%);
            background: var(--dark);
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.6em;
            opacity: 0;
            transition: var(--transition-smooth);
            pointer-events: none;
            white-space: nowrap;
            margin-right: 10px;
        }

        body.dark-mode .quick-nav a span {
            background: var(--dark-text);
            color: var(--dark);
        }

        .quick-nav a:hover span {
            opacity: 1;
            transform: translateY(-50%) translateX(-5px);
        }

        /* Enhanced Dark Mode Toggle */
        .dark-mode-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--primary);
            color: white;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: var(--shadow-soft);
            z-index: 999;
            transition: var(--transition-smooth);
            border: none;
        }

        .dark-mode-toggle:hover {
            background: var(--secondary);
            transform: scale(1.1) rotate(180deg);
            box-shadow: 0 0 25px var(--orange-glow);
        }

        .dark-mode-toggle:focus {
            outline: 2px solid var(--secondary);
            outline-offset: 3px;
        }

        /* Back to Top Button */
        .back-to-top {
            position: fixed;
            bottom: 90px;
            right: 20px;
            background: var(--accent);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: var(--shadow-soft);
            z-index: 999;
            transition: var(--transition-smooth);
            opacity: 0;
            visibility: hidden;
            border: none;
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            background: var(--secondary);
            transform: scale(1.1) translateY(-3px);
            box-shadow: 0 0 20px var(--orange-glow);
        }

        /* Enhanced Difficulty Labels */
        .difficulty-label {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
            margin-right: 10px;
            transition: var(--transition-smooth);
        }

        .difficulty-easy {
            background-color: #d4edda;
            color: #155724;
        }

        .difficulty-easy:hover {
            background-color: var(--success);
            color: white;
            transform: scale(1.05);
        }

        .difficulty-medium {
            background-color: #fff3cd;
            color: #856404;
        }

        .difficulty-medium:hover {
            background-color: var(--warning);
            color: #333;
            transform: scale(1.05);
        }

        .difficulty-hard {
            background-color: #f8d7da;
            color: #721c24;
        }

        .difficulty-hard:hover {
            background-color: var(--danger);
            color: white;
            transform: scale(1.05);
        }

        /* Enhanced Tables */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 1em;
            box-shadow: var(--shadow-soft);
            border-radius: var(--border-radius);
            overflow: hidden;
            transition: var(--transition-smooth);
        }

        .comparison-table:hover {
            box-shadow: var(--shadow-medium);
        }

        body.dark-mode .comparison-table {
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }

        .comparison-table th {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            padding: 15px 10px;
            font-weight: bold;
            text-align: left;
        }

        .comparison-table td {
            padding: 12px 10px;
            border: 1px solid #ddd;
            background-color: #f8f9fa;
            transition: var(--transition-quick);
        }

        body.dark-mode .comparison-table td {
            background-color: var(--dark-gray);
            border-color: #555;
            color: var(--dark-text);
        }

        .comparison-table td:hover {
            background-color: var(--orange-glow);
            cursor: default;
            transform: scale(1.02);
        }

        body.dark-mode .comparison-table td:hover {
            background-color: #2a4365;
        }

        /* Enhanced Cluster diagram */
        .cluster-container {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            margin: 25px 0;
            border: 2px solid var(--primary);
            min-height: 400px;
            position: relative;
            transition: var(--transition-smooth);
            user-select: none;
        }

        .cluster-container:hover {
            border-color: var(--secondary);
            box-shadow: var(--shadow-medium);
        }

        body.dark-mode .cluster-container {
            background: var(--dark-secondary);
            border-color: var(--primary-light);
        }

        .cluster-node {
            position: absolute;
            padding: 10px 15px;
            border-radius: 20px;
            background: #e3f2fd;
            border: 2px solid var(--primary);
            cursor: move;
            user-select: none;
            z-index: 2;
            transition: var(--transition-smooth);
            min-width: 80px;
            text-align: center;
            box-shadow: var(--shadow-soft);
            font-size: 0.9em;
        }

        .cluster-node:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow-medium);
            background: var(--orange-glow);
        }

        body.dark-mode .cluster-node {
            background: #2a4365;
            border-color: var(--primary-light);
            color: #e3f2fd;
        }

        .cluster-center {
            background: var(--primary);
            color: white;
            font-weight: bold;
            font-size: 1em;
        }

        .cluster-center:hover {
            background: var(--secondary);
        }

        body.dark-mode .cluster-center {
            background: var(--primary-light);
        }

        .cluster-connection {
            position: absolute;
            background: var(--primary);
            height: 2px;
            transform-origin: 0 0;
            z-index: 1;
            transition: var(--transition-smooth);
        }

        body.dark-mode .cluster-connection {
            background: var(--primary-light);
        }

        .cluster-tools {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .editable-node {
            background: transparent;
            border: none;
            outline: none;
            text-align: center;
            font-family: inherit;
            font-size: inherit;
            color: inherit;
            width: 100%;
        }

        /* Enhanced Freewriting tool */
        .freewriting-container {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            margin: 25px 0;
            border: 2px solid var(--primary);
            transition: var(--transition-smooth);
        }

        .freewriting-container:hover {
            border-color: var(--secondary);
            box-shadow: var(--shadow-medium);
        }

        body.dark-mode .freewriting-container {
            background: var(--dark-secondary);
            border-color: var(--primary-light);
        }

        .freewriting-timer {
            font-size: 2em;
            text-align: center;
            margin: 15px 0;
            font-weight: bold;
            color: var(--primary);
            transition: var(--transition-smooth);
        }

        body.dark-mode .freewriting-timer {
            color: var(--primary-light);
        }

        .freewriting-textarea {
            width: 100%;
            min-height: 200px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-family: inherit;
            font-size: 1em;
            resize: vertical;
            transition: var(--transition-smooth);
        }

        .freewriting-textarea:focus {
            border-color: var(--secondary);
            outline: none;
            box-shadow: 0 0 0 3px var(--orange-glow);
        }

        body.dark-mode .freewriting-textarea {
            background: #3a4356;
            border-color: #555;
            color: #f0f0f0;
        }

        .freewriting-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        /* Enhanced Outline builder */
        .outline-builder {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            margin: 25px 0;
            border: 2px solid var(--primary);
            transition: var(--transition-smooth);
        }

        .outline-builder:hover {
            border-color: var(--secondary);
            box-shadow: var(--shadow-medium);
        }

        body.dark-mode .outline-builder {
            background: var(--dark-secondary);
            border-color: var(--primary-light);
        }

        .outline-item {
            padding: 10px;
            margin: 5px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
            background: #f8f9fa;
            cursor: move;
            transition: var(--transition-smooth);
        }

        .outline-item:hover {
            background: var(--orange-glow);
            transform: translateX(5px);
            box-shadow: var(--shadow-soft);
        }

        body.dark-mode .outline-item {
            background: #3a4356;
            border-color: #555;
            color: #f0f0f0;
        }

        .outline-level-1 {
            font-weight: bold;
            margin-left: 0;
        }

        .outline-level-2 {
            margin-left: 20px;
        }

        .outline-level-3 {
            margin-left: 40px;
            font-style: italic;
        }

        .outline-tools {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        /* Enhanced Question prompter */
        .question-prompter {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            margin: 25px 0;
            border: 2px solid var(--primary);
            transition: var(--transition-smooth);
        }

        .question-prompter:hover {
            border-color: var(--secondary);
            box-shadow: var(--shadow-medium);
        }

        body.dark-mode .question-prompter {
            background: var(--dark-secondary);
            border-color: var(--primary-light);
        }

        .question-card {
            background: #e3f2fd;
            padding: 20px;
            border-radius: var(--border-radius);
            margin: 15px 0;
            text-align: center;
            font-size: 1.2em;
            font-weight: bold;
            transition: var(--transition-smooth);
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .question-card:hover {
            background: var(--orange-glow);
            transform: scale(1.02);
        }

        body.dark-mode .question-card {
            background: #2a4365;
            color: #e3f2fd;
        }

        .question-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        /* Enhanced List maker */
        .list-container {
            display: flex;
            gap: 15px;
            margin-top: 15px;
        }

        .list-column {
            flex: 1;
            min-height: 200px;
        }

        .list-column h4 {
            margin-bottom: 10px;
            color: var(--primary);
            transition: var(--transition-smooth);
        }

        body.dark-mode .list-column h4 {
            color: var(--primary-light);
        }

        .drop-zone {
            min-height: 150px;
            padding: 15px;
            border: 2px dashed #ddd;
            border-radius: 5px;
            transition: var(--transition-smooth);
            background: #f8f9fa;
        }

        .drop-zone.drag-over {
            border-color: var(--secondary);
            background: var(--orange-glow);
        }

        body.dark-mode .drop-zone {
            background: #3a4356;
            border-color: #555;
        }

        .list-item {
            background: white;
            padding: 8px 12px;
            margin: 5px 0;
            border-radius: 4px;
            border: 1px solid #ddd;
            cursor: move;
            transition: var(--transition-smooth);
            user-select: none;
        }

        .list-item:hover {
            background: var(--orange-glow);
            transform: scale(1.02);
            box-shadow: var(--shadow-soft);
        }

        body.dark-mode .list-item {
            background: var(--dark-gray);
            border-color: #555;
            color: var(--dark-text);
        }

        .list-item.dragging {
            opacity: 0.5;
            transform: scale(1.05);
        }

        /* Enhanced Citation box */
        .citation-box {
            background-color: #f9f9f9;
            border-left: 4px solid #6c757d;
            padding: 20px;
            border-radius: var(--border-radius);
            margin: 30px 0;
            font-size: 0.9em;
            transition: var(--transition-smooth);
        }

        .citation-box:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-medium);
        }

        body.dark-mode .citation-box {
            background-color: #2d3748;
            border-left-color: #a0aec0;
        }

        .citation-box p {
            margin: 0 0 10px 0;
            line-height: 1.5;
        }

        .citation-box a {
            color: var(--primary);
            text-decoration: none;
            transition: var(--transition-smooth);
        }

        body.dark-mode .citation-box a {
            color: var(--primary-light);
        }

        .citation-box a:hover {
            color: var(--secondary);
            text-decoration: underline;
        }

        /* Responsive Design - Mobile First */
        @media (max-width: 480px) {
            body {
                font-size: 16px;
                padding-top: 65px;
            }
            
            .navbar {
                padding: 8px 0;
                top: 5px;
            }
            
            .navbar-content {
                padding: 0 15px;
            }
            
            .sidebar {
                width: 280px;
                left: -280px;
            }
            
            .container {
                padding: 15px;
                margin: 10px;
                width: auto;
            }
            
            h1 {
                font-size: 1.8em;
            }
            
            .stats-bar {
                flex-direction: column;
                gap: 10px;
                text-align: center;
            }
            
            .quick-nav {
                display: none;
            }

            .dark-mode-toggle {
                width: 50px;
                height: 50px;
                bottom: 15px;
                right: 15px;
            }

            .back-to-top {
                bottom: 75px;
                right: 15px;
                width: 45px;
                height: 45px;
            }

            .freewriting-controls, .question-controls, .cluster-tools, .outline-tools {
                flex-direction: column;
                align-items: stretch;
            }

            .list-container {
                flex-direction: column;
            }
        }

        @media (max-width: 768px) and (min-width: 481px) {
            .sidebar {
                width: 320px;
                left: -320px;
            }

            .container {
                padding: 20px;
                margin: 15px;
            }

            h1 {
                font-size: 2.2em;
            }
        }

        /* Touch gestures for mobile */
        @media (hover: none) and (pointer: coarse) {
            .section-header, .sidebar-link, .btn, .cluster-node, .list-item {
                -webkit-tap-highlight-color: rgba(255, 140, 66, 0.3);
            }
        }

        /* Print Styles */
        @media print {
            .navbar, .sidebar, .sidebar-overlay, .dark-mode-toggle, .quick-nav, .video-link, .btn, .back-to-top, .progress-container {
                display: none !important;
            }
            
            body {
                background: white !important;
                color: black !important;
                box-shadow: none !important;
                padding-top: 0 !important;
                font-size: 12pt !important;
            }
            
            .container {
                background: white !important;
                color: black !important;
                box-shadow: none !important;
                max-width: none !important;
                margin: 0 !important;
                padding: 0 !important;
            }
            
            .section-header {
                background: #ddd !important;
                color: black !important;
                page-break-after: avoid;
            }
            
            .section-content {
                display: block !important;
                page-break-inside: avoid;
            }

            .example-box, .highlight-box, .tools-note, .practice-item {
                page-break-inside: avoid;
                border: 1px solid #ddd !important;
            }

            .cluster-container, .freewriting-container, .outline-builder, .question-prompter {
                border: 1px solid #000 !important;
                background: white !important;
                color: black !important;
            }
        }

        /* Accessibility Enhancements */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }

        /* High contrast mode support */
        @media (prefers-contrast: high) {
            :root {
                --primary: #0000cc;
                --secondary: #ff6600;
                --light-gray: #cccccc;
                --dark-gray: #333333;
            }
        }

        /* Focus visible for better keyboard navigation */
        *:focus-visible {
            outline: 2px solid var(--secondary);
            outline-offset: 2px;
            border-radius: 2px;
        }
    </style>
<script src="https://puc.poecdn.net/authenticated_preview_page/syncedState.bd4eeeb8e8e02052ee92.js"></script></head>
<body>
    <!-- Progress Bar at very top -->
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="navbar-content">
            <button class="hamburger-menu" id="hamburgerMenu" aria-label="Open navigation menu">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </button>
            
            <a href="index.html" class="navbar-brand">
                <i class="fas fa-compass"></i>Scholar's Compass
            </a>
        </div>
    </nav>

    <!-- Sidebar Navigation -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2><i class="fas fa-compass me-2"></i>Navigation</h2>
            <button class="sidebar-close" id="sidebarClose" aria-label="Close navigation menu">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="sidebar-content">
            <div class="sidebar-section">
                <h3>Main</h3>
                <a href="index.html" class="sidebar-link">
                    <i class="fas fa-home"></i>Home
                    <span class="reading-time">2 min</span>
                </a>
            </div>
            
            <div class="sidebar-section">
                <h3>Chapters</h3>
                <a href="chapter-1.html" class="sidebar-link">
                    <i class="fas fa-highlighter"></i>1. Annotating Your Way to Greatness
                    <span class="reading-time">15 min</span>
                </a>
                <a href="chapter-2.html" class="sidebar-link">
                    <i class="fas fa-book-reader"></i>2. Active Reading Strategies
                    <span class="reading-time">12 min</span>
                </a>
                <a href="chapter-3.html" class="sidebar-link">
                    <i class="fas fa-clipboard-list"></i>3. Summarizing Your Way to Synthesis
                    <span class="reading-time">10 min</span>
                </a>
                <a href="chapter-4.html" class="sidebar-link">
                    <i class="fas fa-comments"></i>4. Argumentation: Joining the Academic Conversation
                    <span class="reading-time">18 min</span>
                </a>
                <a href="chapter-5.html" class="sidebar-link">
                    <i class="fas fa-link"></i>5. Source Integration for Success!
                    <span class="reading-time">14 min</span>
                </a>
                <a href="chapter-6.html" class="sidebar-link">
                    <i class="fas fa-project-diagram"></i>6. Analysis and Synthesis
                    <span class="reading-time">16 min</span>
                </a>
                <a href="chapter-7.html" class="sidebar-link">
                    <i class="fas fa-bullseye"></i>7. Crafting Powerful Thesis Statements
                    <span class="reading-time">11 min</span>
                </a>
                <a href="chapter-8.html" class="sidebar-link">
                    <i class="fas fa-align-left"></i>8. Designing Effective Paragraphs
                    <span class="reading-time">13 min</span>
                </a>
                <a href="chapter-9.html" class="sidebar-link current">
                    <i class="fas fa-pen-fancy"></i>9. Strategies for Getting Started
                    <span class="reading-time">9 min</span>
                </a>
            </div>
        </div>
    </nav>

    <div class="quick-nav" id="quickNav">
        <a href="#section1" title="Introduction" data-section="section1"><span>Introduction</span><i class="fas fa-info-circle"></i></a>
        <a href="#section2" title="Visual Methods" data-section="section2"><span>Visual Methods</span><i class="fas fa-project-diagram"></i></a>
        <a href="#section3" title="Listing" data-section="section3"><span>Listing</span><i class="fas fa-list"></i></a>
        <a href="#section4" title="Outlining" data-section="section4"><span>Outlining</span><i class="fas fa-tasks"></i></a>
        <a href="#section5" title="Freewriting" data-section="section5"><span>Freewriting</span><i class="fas fa-pencil-alt"></i></a>
        <a href="#section6" title="Questioning" data-section="section6"><span>Questioning</span><i class="fas fa-question"></i></a>
    </div>

    <button class="dark-mode-toggle" id="darkModeToggle" aria-label="Toggle dark mode">
        <i class="fas fa-moon"></i>
    </button>

    <button class="back-to-top" id="backToTop" aria-label="Back to top">
        <i class="fas fa-arrow-up"></i>
    </button>

    <div class="container">
        <div class="header">
            <h1><i class="fas fa-pen-fancy"></i> Strategies for Getting Started</h1>
            <p class="subtitle">Your Pre-Writing Toolkit for Overcoming the Blank Page</p>
            
            <div style="margin-top: 20px;">
                <button class="btn" onclick="window.print()"><i class="fas fa-file-pdf"></i> Save as PDF</button>
            </div>
        </div>

        <div class="stats-bar">
            <div class="stat">
                <span class="stat-label">Beat Writer's Block!</span>
            </div>
            <div class="stat">
                <span class="stat-label">Generate Ideas!</span>
            </div>
            <div class="stat">
                <span class="stat-label">Organize Thoughts!</span>
            </div>
        </div>

        <div class="section active" id="section1">
            <div class="section-header" onclick="toggleSection(this)">
                <span><i class="fas fa-info-circle"></i> I. Introduction: Why Pre-Writing Matters</span>
                <span class="section-icon"><i class="fas fa-chevron-right"></i></span>
            </div>
            <div class="section-content">
                <p>Every writer faces the blank page. How you start can determine everything that follows. Pre-writing isn't just preparation—it's where you discover what you actually want to say.</p>
                
                <div class="highlight-box">
                    <p>Pre-writing techniques help you generate ideas and see connections without the pressure of writing complete sentences. They follow common rules: write everything down without elimination, work quickly, don't edit, and if stuck, review or seek input.</p>
                </div>

                <div class="tools-note">
                    <p><strong>By the end of this guide, you will be able to:</strong></p>
                    <ul>
                        <li>Use multiple pre-writing strategies effectively</li>
                        <li>Choose the right technique for your writing task</li>
                        <li>Combine methods for better results</li>
                        <li>Overcome writer's block with proven techniques</li>
                        <li>Save and organize your pre-writing work</li>
                    </ul>
                </div>

                <div class="key-takeaway">
                    <h4><i class="fas fa-key"></i> Key Takeaway</h4>
                    <p>Pre-writing is thinking, and thinking is the hardest part of writing. These strategies make the thinking process visible and manageable.</p>
                </div>
            </div>
        </div>

        <div class="section" id="section2">
            <div class="section-header" onclick="toggleSection(this)">
                <span><i class="fas fa-project-diagram"></i> II. Visual Mapping Techniques</span>
                <span class="section-icon"><i class="fas fa-chevron-right"></i></span>
            </div>
            <div class="section-content">
                <p>Visual techniques help you see connections between ideas. They're perfect for visual thinkers and complex topics with many interrelated concepts.</p>
                
                <div class="tools-note">
                    <p><strong>Clustering/Mind Mapping:</strong></p>
                    <ol>
                        <li>Start with a central concept in the middle of the page</li>
                        <li>Add connected ideas branching outward</li>
                        <li>Draw lines showing relationships</li>
                        <li>Use colors, symbols, and images to enhance connections</li>
                    </ol>
                </div>

                <div class="interactive-element">
                    <h3><i class="fas fa-plus-circle"></i> Interactive Cluster Diagram</h3>
                    <p>Create your own cluster diagram. Double-click nodes to edit them, drag to move them around, and use the tools below to add new ideas.</p>
                    
                    <div class="cluster-tools">
                        <button class="btn" onclick="addClusterNode()"><i class="fas fa-plus"></i> Add Idea</button>
                        <button class="btn" onclick="clearCluster()"><i class="fas fa-trash"></i> Clear</button>
                        <button class="btn" onclick="saveCluster()"><i class="fas fa-save"></i> Save</button>
                        <button class="btn" onclick="loadCluster()"><i class="fas fa-folder-open"></i> Load</button>
                    </div>
                    
                    <div class="cluster-container" id="clusterDiagram">
                        <div class="cluster-node cluster-center" style="top: 180px; left: 190px;" ondblclick="editNode(this)">
                            <input type="text" class="editable-node" value="Main Topic" onblur="updateNodeText(this)" onkeypress="handleKeyPress(event, this)">
                        </div>
                    </div>
                </div>

                <div class="example-box">
                    <strong>When to use visual mapping:</strong>
                    <ul>
                        <li>When ideas feel interconnected</li>
                        <li>For visual thinkers</li>
                        <li>When exploring relationships between concepts</li>
                        <li>For complex topics with multiple aspects</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section" id="section3">
            <div class="section-header" onclick="toggleSection(this)">
                <span><i class="fas fa-list"></i> III. Listing Methods</span>
                <span class="section-icon"><i class="fas fa-chevron-right"></i></span>
            </div>
            <div class="section-content">
                <p>Listing is a straightforward approach to generating ideas without worrying about structure or connections.</p>
                
                <div class="tools-note">
                    <p><strong>Brainstorm Listing Rules:</strong></p>
                    <ul>
                        <li>Write everything down—no filtering</li>
                        <li>Work quickly without editing</li>
                        <li>Quantity over quality initially</li>
                        <li>Group related ideas later</li>
                    </ul>
                </div>

                <div class="interactive-element">
                    <h3><i class="fas fa-edit"></i> Interactive List Maker</h3>
                    <p>Create your brainstorm list below. Type each idea and press Enter or click Add. Then drag ideas to group them in the right column.</p>
                    
                    <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                        <input type="text" id="listItemInput" placeholder="Enter an idea" style="flex-grow: 1; padding: 10px; border-radius: 5px; border: 1px solid #ddd;" onkeypress="handleListKeyPress(event)">
                        <button class="btn" onclick="addListItem()">Add Idea</button>
                    </div>
                    
                    <div class="list-container">
                        <div class="list-column">
                            <h4>My Ideas</h4>
                            <div class="drop-zone" id="ideaList"></div>
                        </div>
                        <div class="list-column">
                            <h4>Grouped Ideas</h4>
                            <div class="drop-zone" id="groupedIdeas"></div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 15px; display: flex; gap: 10px;">
                        <button class="btn" onclick="saveList()"><i class="fas fa-save"></i> Save List</button>
                        <button class="btn" onclick="clearList()"><i class="fas fa-trash"></i> Clear List</button>
                    </div>
                </div>

                <div class="practice-item">
                    <strong>Know/Don't Know Lists:</strong>
                    <p>Perfect for research-based writing. Create two columns: what you already know about your topic, and what you need to research.</p>
                    
                    <div class="example-box">
                        <strong>Example for topic "Urban Gardening":</strong><br>
                        <strong>What I Know:</strong><br>
                        - Urban gardens can reduce food deserts<br>
                        - Many cities have vacant lots suitable for gardening<br>
                        - Community gardens build social connections<br><br>
                        
                        <strong>What I Need to Research:</strong><br>
                        - Success rates of urban gardening initiatives<br>
                        - Cost analysis of startup and maintenance<br>
                        - Policy barriers in different municipalities
                    </div>
                </div>
            </div>
        </div>

        <div class="section" id="section4">
            <div class="section-header" onclick="toggleSection(this)">
                <span><i class="fas fa-tasks"></i> IV. Outlining Approaches</span>
                <span class="section-icon"><i class="fas fa-chevron-right"></i></span>
            </div>
            <div class="section-content">
                <p>Outlining helps you create structure before you begin writing. It can range from formal to informal depending on your needs.</p>
                
                <div class="comparison-table">
                    
                        Outline Type
                        When to Use
                        Benefits
                    
                    
                        <strong>Traditional Outline</strong>
                        Formal writing, research papers
                        Creates logical flow, identifies support gaps
                    
                    
                        <strong>Rough Outline</strong>
                        Early ideas, exploratory writing
                        Flexible, visual, easy to rearrange
                    
                    
                        <strong>Phrase Outline</strong>
                        Quick planning, speech preparation
                        Concise, easy to scan
                    
                </div>

                <div class="interactive-element">
                    <h3><i class="fas fa-list-ol"></i> Interactive Outline Builder</h3>
                    <p>Build your outline below. Add main points and supporting details.</p>
                    
                    <div class="outline-tools">
                        <button class="btn" onclick="addOutlineItem(1)"><i class="fas fa-plus"></i> Main Point</button>
                        <button class="btn" onclick="addOutlineItem(2)"><i class="fas fa-plus"></i> Supporting Point</button>
                        <button class="btn" onclick="addOutlineItem(3)"><i class="fas fa-plus"></i> Detail</button>
                        <button class="btn" onclick="saveOutline()"><i class="fas fa-save"></i> Save</button>
                    </div>
                    
                    <div class="outline-builder" id="outlineContainer">
                        <div class="outline-item outline-level-1">I. Main Idea</div>
                        <div class="outline-item outline-level-2">A. Supporting Idea</div>
                        <div class="outline-item outline-level-3">1. Detail</div>
                        <div class="outline-item outline-level-3">2. Detail</div>
                        <div class="outline-item outline-level-2">B. Supporting Idea</div>
                        <div class="outline-item outline-level-3">1. Detail</div>
                    </div>
                </div>

                <div class="key-takeaway">
                    <h4><i class="fas fa-key"></i> Key Takeaway</h4>
                    <p>Your outline should serve your writing process, not constrain it. Choose an outlining approach that matches your thinking style and writing task.</p>
                </div>
            </div>
        </div>

        <div class="section" id="section5">
            <div class="section-header" onclick="toggleSection(this)">
                <span><i class="fas fa-pencil-alt"></i> V. Freewriting Techniques</span>
                <span class="section-icon"><i class="fas fa-chevron-right"></i></span>
            </div>
            <div class="section-content">
                <p>Freewriting generates text by allowing you to write continuously without editing or censoring your thoughts.</p>
                
                <div class="tools-note">
                    <p><strong>Freewriting Rules:</strong></p>
                    <ul>
                        <li>Write as much as you can, as quickly as you can</li>
                        <li>Don't edit or cross anything out</li>
                        <li>Keep your pen or fingers moving</li>
                        <li>You don't need to stay on topic</li>
                        <li>If stuck, write about being stuck</li>
                    </ul>
                </div>

                <div class="interactive-element">
                    <h3><i class="fas fa-hourglass-half"></i> Freewriting Timer Tool</h3>
                    <p>Set a timer and write without stopping until time is up. Your work will be automatically saved.</p>
                    
                    <div class="freewriting-container">
                        <div class="freewriting-timer" id="freewriteTimer">05:00</div>
                        
                        <div style="display: flex; justify-content: center; gap: 10px; margin-bottom: 15px;">
                            <button class="btn" onclick="startTimer(300)">5 Minutes</button>
                            <button class="btn" onclick="startTimer(600)">10 Minutes</button>
                            <button class="btn" onclick="startTimer(900)">15 Minutes</button>
                        </div>
                        
                        <textarea class="freewriting-textarea" id="freewriteText" placeholder="Start writing here..."></textarea>
                        
                        <div class="freewriting-controls">
                            <button class="btn" onclick="startTimer()" id="startButton"><i class="fas fa-play"></i> Start</button>
                            <button class="btn" onclick="pauseTimer()" id="pauseButton"><i class="fas fa-pause"></i> Pause</button>
                            <button class="btn" onclick="resetTimer()"><i class="fas fa-redo"></i> Reset</button>
                            <button class="btn" onclick="saveFreewrite()"><i class="fas fa-save"></i> Save</button>
                        </div>
                    </div>
                </div>

                <div class="practice-item">
                    <strong>Looping Method:</strong>
                    <p>A structured approach to freewriting that helps you go deeper into your ideas.</p>
                    
                    <ol>
                        <li>Freewrite for 5 minutes on your topic</li>
                        <li>Read what you wrote and identify the core idea</li>
                        <li>Use that idea as a prompt for another 5-minute freewrite</li>
                        <li>Repeat until you've reached depth or clarity</li>
                    </ol>
                    
                    <div class="example-box">
                        <strong>Prompt ideas for freewriting:</strong><br>
                        - "What I really want to say about this topic is..."<br>
                        - "The most important aspect of this is..."<br>
                        - "What surprises me about this topic is..."<br>
                        - "If I could explain one thing about this topic, it would be..."
                    </div>
                </div>
            </div>
        </div>

        <div class="section" id="section6">
            <div class="section-header" onclick="toggleSection(this)">
                <span><i class="fas fa-question"></i> VI. Question-Based Strategies</span>
                <span class="section-icon"><i class="fas fa-chevron-right"></i></span>
            </div>
            <div class="section-content">
                <p>Asking questions about your topic stimulates ideas and reveals angles you might not have considered.</p>
                
                <div class="tools-note">
                    <p><strong>Journalist's Questions (5 Ws + How):</strong></p>
                    <ul>
                        <li><strong>Who</strong> is involved/affected?</li>
                        <li><strong>What</strong> is happening/should happen?</li>
                        <li><strong>Where</strong> is this relevant?</li>
                        <li><strong>When</strong> is this important?</li>
                        <li><strong>Why</strong> does this matter?</li>
                        <li><strong>How</strong> does this work/occur?</li>
                    </ul>
                </div>

                <div class="interactive-element">
                    <h3><i class="fas fa-question-circle"></i> Question Prompter</h3>
                    <p>Use this tool to generate questions about your topic. Answering these questions will help you develop content.</p>
                    
                    <div class="question-prompter">
                        <div class="question-card" id="questionDisplay">
                            Click "Generate Question" to get started
                        </div>
                        
                        <div class="question-controls">
                            <button class="btn" onclick="generateQuestion()"><i class="fas fa-sync"></i> Generate Question</button>
                            <button class="btn" onclick="saveQuestion()"><i class="fas fa-save"></i> Save Question</button>
                        </div>
                        
                        <div style="margin-top: 20px;">
                            <h4>Saved Questions</h4>
                            <ul id="savedQuestions"></ul>
                        </div>
                    </div>
                </div>

                <div class="highlight-box">
                    <p><strong>Other Questioning Frameworks:</strong></p>
                    <p><strong>Problem/Solution:</strong> What problem exists? Who does it affect? What solutions have been tried? What solutions might work? What barriers exist to solutions?</p>
                    <p><strong>Cause/Effect:</strong> What are the underlying causes? What are the visible effects? How are causes and effects connected? What patterns emerge?</p>
                </div>

                <div class="key-takeaway">
                    <h4><i class="fas fa-key"></i> Key Takeaway</h4>
                    <p>Questions are powerful thinking tools. They open up possibilities and reveal aspects of your topic you might otherwise overlook.</p>
                </div>
            </div>
        </div>

        <div class="section" id="section7">
            <div class="section-header" onclick="toggleSection(this)">
                <span><i class="fas fa-clipboard-check"></i> VII. Putting It All Together</span>
                <span class="section-icon"><i class="fas fa-chevron-right"></i></span>
            </div>
            <div class="section-content">
                <p>Now that you've learned various pre-writing strategies, it's time to think about how to choose and combine them effectively.</p>
                
                <div class="comparison-table">
                    
                        Situation
                        Recommended Techniques
                    
                    
                        Feeling stuck or blocked
                        Freewriting, Looping
                    
                    
                        Complex topic with many connections
                        Clustering, Mind mapping
                    
                    
                        Research-heavy topic
                        Know/Don't Know lists
                    
                    
                        Need logical structure
                        Traditional outlining
                    
                    
                        Exploring personal connections
                        Freewriting, Questioning
                    
                    
                        Working with tight structure
                        Traditional outlining
                    
                </div>

                <div class="practice-item">
                    <strong>Try a Combination Approach:</strong>
                    <ol>
                        <li>Start with clustering to explore ideas</li>
                        <li>Use listing to expand each cluster point</li>
                        <li>Freewrite about the most promising ideas</li>
                        <li>Create an outline from your best material</li>
                        <li>Use questioning to fill in gaps</li>
                    </ol>
                </div>

                <div class="interactive-element">
                    <h3><i class="fas fa-rocket"></i> Pre-Writing Challenge</h3>
                    <p>Choose a writing topic and try at least two different pre-writing techniques. Compare the results.</p>
                    
                    <div style="margin-bottom: 15px;">
                        <input type="text" id="challengeTopic" placeholder="Enter your writing topic" style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ddd;">
                    </div>
                    
                    <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-bottom: 15px;">
                        <label style="display: flex; align-items: center;"><input type="checkbox" name="technique" value="clustering"> Clustering</label>
                        <label style="display: flex; align-items: center;"><input type="checkbox" name="technique" value="listing"> Listing</label>
                        <label style="display: flex; align-items: center;"><input type="checkbox" name="technique" value="outlining"> Outlining</label>
                        <label style="display: flex; align-items: center;"><input type="checkbox" name="technique" value="freewriting"> Freewriting</label>
                        <label style="display: flex; align-items: center;"><input type="checkbox" name="technique" value="questioning"> Questioning</label>
                    </div>
                    
                    <button class="btn" onclick="startChallenge()">Start Challenge</button>
                    
                    <div id="challengeResults" style="margin-top: 20px; display: none;">
                        <h4>Challenge Results</h4>
                        <p>Which technique generated the most ideas? </p>
                        <textarea style="width: 100%; min-height: 100px; margin-top: 10px; padding: 10px; border-radius: 5px; border: 1px solid #ddd;"></textarea>
                    </div>
                </div>

                <div class="highlight-box">
                    <p><strong>Remember:</strong> Pre-writing is supposed to be messy. The goal isn't perfection—it's generation. Trust that the process will lead you to ideas worth developing.</p>
                </div>
            </div>
        </div>

        <div class="citation-box">
            <p><strong>Attribution:</strong></p>
            <p>Material adapted from <em>Strategies for Getting Started</em> by Carol Burnell, Jaime Wood, Monique Babin, Susan Pesznecker, and Nicole Rosevear, licensed under a <a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">Creative Commons Attribution-NonCommercial 4.0 International License</a>, except where otherwise noted.</p>
            <p>Original content available at: <a href="https://openoregon.pressbooks.pub/aboutwriting/chapter/strategies-for-getting-started/" target="_blank">https://openoregon.pressbooks.pub/aboutwriting/chapter/strategies-for-getting-started/</a></p>
        </div>
    </div>

    <script>
        // State management
        let touchStartX = 0;
        let touchEndX = 0;
        let sectionStates = {};

        // Load saved preferences
        function loadPreferences() {
            const darkMode = localStorage.getItem('darkMode') === 'true';
            const savedStates = localStorage.getItem('sectionStates');
            
            if (darkMode) {
                document.body.classList.add('dark-mode');
                document.getElementById('darkModeToggle').querySelector('i').className = 'fas fa-sun';
            }
            
            if (savedStates) {
                sectionStates = JSON.parse(savedStates);
                Object.keys(sectionStates).forEach(sectionId => {
                    const section = document.getElementById(sectionId);
                    if (section && sectionStates[sectionId]) {
                        section.classList.add('active');
                    }
                });
            }
        }

        // Save preferences
        function savePreferences() {
            localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
            localStorage.setItem('sectionStates', JSON.stringify(sectionStates));
        }

        // Enhanced Sidebar functionality
        const hamburgerMenu = document.getElementById('hamburgerMenu');
        const sidebar = document.getElementById('sidebar');
        const sidebarOverlay = document.getElementById('sidebarOverlay');
        const sidebarClose = document.getElementById('sidebarClose');

        function openSidebar() {
            sidebar.classList.add('active');
            sidebarOverlay.classList.add('active');
            hamburgerMenu.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeSidebar() {
            sidebar.classList.remove('active');
            sidebarOverlay.classList.remove('active');
            hamburgerMenu.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Auto-close sidebar on mobile when selecting chapter
        function autoCloseSidebarOnMobile() {
            if (window.innerWidth <= 768) {
                closeSidebar();
            }
        }

        hamburgerMenu.addEventListener('click', openSidebar);
        sidebarClose.addEventListener('click', closeSidebar);
        sidebarOverlay.addEventListener('click', closeSidebar);

        // Add auto-close to all chapter links
        document.querySelectorAll('.sidebar-link[href*="chapter"]').forEach(link => {
            link.addEventListener('click', autoCloseSidebarOnMobile);
        });

        // Touch gestures for sidebar
        document.addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
        });

        document.addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            const swipeThreshold = 100;
            const swipeDistance = touchEndX - touchStartX;
            
            if (Math.abs(swipeDistance) > swipeThreshold) {
                if (swipeDistance > 0 && touchStartX < 50) {
                    // Swipe right from left edge - open sidebar
                    openSidebar();
                } else if (swipeDistance < 0 && sidebar.classList.contains('active')) {
                    // Swipe left when sidebar is open - close sidebar
                    closeSidebar();
                }
            }
        }

        // Escape key handling
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                if (sidebar.classList.contains('active')) {
                    closeSidebar();
                }
            }
        });

        // Enhanced section toggling with state persistence
        function toggleSection(header) {
            const section = header.parentNode;
            const sectionId = section.id;
            
            section.classList.toggle('active');
            sectionStates[sectionId] = section.classList.contains('active');
            savePreferences();
            
            if (section.classList.contains('active')) {
                // Smooth scroll to section with offset for navbar
                const yOffset = -80;
                const y = section.getBoundingClientRect().top + window.pageYOffset + yOffset;
                window.scrollTo({top: y, behavior: 'smooth'});
                
                // Update URL hash
                history.replaceState(null, null, '#' + sectionId);
            }
        }

        // Enhanced scroll progress with color transition
        function updateScrollProgress() {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            
            // Update progress bar width
            const progressBar = document.getElementById("progressBar");
            progressBar.style.width = scrolled + "%";
            
            // Calculate color transition (blue to orange)
            const orangePercentage = Math.min(scrolled / 100, 1);
            const bluePercentage = 1 - orangePercentage;
            
            // Create gradient with color transition
            progressBar.style.background = 
                `linear-gradient(to right, 
                var(--primary) 0%, 
                color-mix(in srgb, var(--primary) ${bluePercentage * 100}%, var(--secondary) ${orangePercentage * 100}%) ${scrolled}%, 
                var(--secondary) 100%)`;
            
            // Update quick nav active states
            updateQuickNavActiveStates();
            
            // Show/hide back to top button
            const backToTop = document.getElementById('backToTop');
            if (winScroll > 300) {
                backToTop.classList.add('visible');
            } else {
                backToTop.classList.remove('visible');
            }
        }

        // Quick navigation active states
        function updateQuickNavActiveStates() {
            const sections = document.querySelectorAll('.section');
            const quickNavLinks = document.querySelectorAll('.quick-nav a');
            
            sections.forEach(section => {
                const rect = section.getBoundingClientRect();
                const isInView = rect.top <= 100 && rect.bottom >= 100;
                
                if (isInView) {
                    quickNavLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('data-section') === section.id) {
                            link.classList.add('active');
                        }
                    });
                }
            });
        }

        // Enhanced dark mode toggle
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            const icon = document.getElementById('darkModeToggle').querySelector('i');
            
            if (document.body.classList.contains('dark-mode')) {
                icon.className = 'fas fa-sun';
            } else {
                icon.className = 'fas fa-moon';
            }
            
            savePreferences();
        }

        // Back to top functionality
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // Smooth scrolling for anchor links
        function initSmoothScrolling() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        const yOffset = -80;
                        const y = target.getBoundingClientRect().top + window.pageYOffset + yOffset;
                        window.scrollTo({top: y, behavior: 'smooth'});
                        
                        // Expand section if it's collapsed
                        if (target.classList.contains('section') && !target.classList.contains('active')) {
                            target.classList.add('active');
                            sectionStates[target.id] = true;
                            savePreferences();
                        }
                    }
                });
            });
        }

        // ========== CLUSTER DIAGRAM FUNCTIONALITY ==========
        let clusterNodes = [];
        let clusterConnections = [];
        let nextNodeId = 1;
        let isDragging = false;
        let dragNode = null;
        let dragOffset = { x: 0, y: 0 };

        function addClusterNode() {
            const clusterContainer = document.getElementById('clusterDiagram');
            const newNode = document.createElement('div');
            newNode.className = 'cluster-node';
            newNode.id = 'node-' + nextNodeId;
            
            const randomX = Math.random() * (clusterContainer.offsetWidth - 120) + 20;
            const randomY = Math.random() * (clusterContainer.offsetHeight - 50) + 20;
            
            newNode.style.top = randomY + 'px';
            newNode.style.left = randomX + 'px';
            
            newNode.innerHTML = `<input type="text" class="editable-node" value="New Idea ${nextNodeId}" onblur="updateNodeText(this)" onkeypress="handleKeyPress(event, this)">`;
            
            // Add drag functionality
            newNode.addEventListener('mousedown', startDrag);
            newNode.addEventListener('dblclick', function(e) {
                e.preventDefault();
                const input = this.querySelector('.editable-node');
                input.focus();
                input.select();
            });
            
            clusterContainer.appendChild(newNode);
            
            clusterNodes.push({
                id: newNode.id,
                text: `New Idea ${nextNodeId}`,
                x: randomX,
                y: randomY
            });
            
            nextNodeId++;
            saveClusterData();
        }

        function editNode(node) {
            const input = node.querySelector('.editable-node');
            input.focus();
            input.select();
        }

        function updateNodeText(input) {
            const nodeId = input.closest('.cluster-node').id;
            const nodeData = clusterNodes.find(n => n.id === nodeId);
            if (nodeData) {
                nodeData.text = input.value;
                saveClusterData();
            }
        }

        function handleKeyPress(event, input) {
            if (event.key === 'Enter') {
                input.blur();
            }
        }

        function startDrag(e) {
            if (e.target.classList.contains('editable-node')) return;
            
            isDragging = true;
            dragNode = this;
            
            const rect = this.getBoundingClientRect();
            const containerRect = document.getElementById('clusterDiagram').getBoundingClientRect();
            
            dragOffset.x = e.clientX - rect.left;
            dragOffset.y = e.clientY - rect.top;
            
            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', stopDrag);
            
            this.style.zIndex = '1000';
            e.preventDefault();
        }

        function drag(e) {
            if (!isDragging || !dragNode) return;
            
            const container = document.getElementById('clusterDiagram');
            const containerRect = container.getBoundingClientRect();
            
            let newX = e.clientX - containerRect.left - dragOffset.x;
            let newY = e.clientY - containerRect.top - dragOffset.y;
            
            // Keep within bounds
            newX = Math.max(0, Math.min(newX, container.offsetWidth - dragNode.offsetWidth));
            newY = Math.max(0, Math.min(newY, container.offsetHeight - dragNode.offsetHeight));
            
            dragNode.style.left = newX + 'px';
            dragNode.style.top = newY + 'px';
            
            // Update node data
            const nodeData = clusterNodes.find(n => n.id === dragNode.id);
            if (nodeData) {
                nodeData.x = newX;
                nodeData.y = newY;
            }
        }

        function stopDrag() {
            if (isDragging && dragNode) {
                dragNode.style.zIndex = '2';
                saveClusterData();
            }
            
            isDragging = false;
            dragNode = null;
            
            document.removeEventListener('mousemove', drag);
            document.removeEventListener('mouseup', stopDrag);
        }

        function clearCluster() {
            const clusterContainer = document.getElementById('clusterDiagram');
            const nodes = clusterContainer.querySelectorAll('.cluster-node:not(.cluster-center)');
            const connections = clusterContainer.querySelectorAll('.cluster-connection');
            
            nodes.forEach(node => node.remove());
            connections.forEach(connection => connection.remove());
            
            clusterNodes = clusterNodes.filter(node => node.id === 'cluster-center');
            clusterConnections = [];
            nextNodeId = 1;
            saveClusterData();
        }

        function saveCluster() {
            saveClusterData();
            alert('Cluster diagram saved!');
        }

        function saveClusterData() {
            const clusterData = {
                nodes: clusterNodes,
                connections: clusterConnections,
                nextId: nextNodeId
            };
            localStorage.setItem('writingCluster', JSON.stringify(clusterData));
        }

        function loadCluster() {
            const savedData = localStorage.getItem('writingCluster');
            if (savedData) {
                const clusterData = JSON.parse(savedData);
                // Restore cluster state
                clusterNodes = clusterData.nodes || [];
                clusterConnections = clusterData.connections || [];
                nextNodeId = clusterData.nextId || 1;
                
                alert('Cluster diagram loaded!');
            } else {
                alert('No saved cluster diagram found.');
            }
        }

        // ========== LIST MAKER FUNCTIONALITY ==========
        let listItems = [];

        function addListItem() {
            const input = document.getElementById('listItemInput');
            const text = input.value.trim();
            
            if (text) {
                const ideaList = document.getElementById('ideaList');
                const item = document.createElement('div');
                item.className = 'list-item';
                item.textContent = text;
                item.draggable = true;
                
                // Add drag event listeners
                item.addEventListener('dragstart', handleDragStart);
                item.addEventListener('dragend', handleDragEnd);
                
                ideaList.appendChild(item);
                input.value = '';
                
                listItems.push(text);
                saveListData();
            }
        }

        function handleListKeyPress(event) {
            if (event.key === 'Enter') {
                addListItem();
            }
        }

        function handleDragStart(e) {
            this.classList.add('dragging');
            e.dataTransfer.setData('text/plain', this.textContent);
            e.dataTransfer.effectAllowed = 'move';
        }

        function handleDragEnd(e) {
            this.classList.remove('dragging');
        }

        function setupDropZones() {
            const dropZones = document.querySelectorAll('.drop-zone');
            
            dropZones.forEach(zone => {
                zone.addEventListener('dragover', handleDragOver);
                zone.addEventListener('drop', handleDrop);
                zone.addEventListener('dragenter', handleDragEnter);
                zone.addEventListener('dragleave', handleDragLeave);
            });
        }

        function handleDragOver(e) {
            e.preventDefault();
            e.dataTransfer.dropEffect = 'move';
        }

        function handleDragEnter(e) {
            e.preventDefault();
            this.classList.add('drag-over');
        }

        function handleDragLeave(e) {
            if (!this.contains(e.relatedTarget)) {
                this.classList.remove('drag-over');
            }
        }

        function handleDrop(e) {
            e.preventDefault();
            this.classList.remove('drag-over');
            
            const draggedText = e.dataTransfer.getData('text/plain');
            const draggedElement = document.querySelector('.list-item.dragging');
            
            if (draggedElement && this !== draggedElement.parentNode) {
                // Move the element to this drop zone
                this.appendChild(draggedElement);
                saveListData();
            }
        }

        function saveList() {
            saveListData();
            alert('List saved!');
        }

        function saveListData() {
            const ideaList = Array.from(document.getElementById('ideaList').children).map(item => item.textContent);
            const groupedList = Array.from(document.getElementById('groupedIdeas').children).map(item => item.textContent);
            
            localStorage.setItem('writingList', JSON.stringify({
                ideas: ideaList,
                grouped: groupedList
            }));
        }

        function clearList() {
            document.getElementById('ideaList').innerHTML = '';
            document.getElementById('groupedIdeas').innerHTML = '';
            listItems = [];
            localStorage.removeItem('writingList');
        }

        // ========== FREEWRITING TIMER FUNCTIONALITY ==========
        let timerInterval;
        let secondsRemaining = 300;
        let isTimerRunning = false;

        function startTimer(duration) {
            if (duration) secondsRemaining = duration;
            
            if (isTimerRunning) return;
            
            isTimerRunning = true;
            document.getElementById('startButton').disabled = true;
            document.getElementById('pauseButton').disabled = false;
            
            timerInterval = setInterval(function() {
                secondsRemaining--;
                
                const minutes = Math.floor(secondsRemaining / 60);
                const seconds = secondsRemaining % 60;
                document.getElementById('freewriteTimer').textContent = 
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                if (secondsRemaining <= 0) {
                    clearInterval(timerInterval);
                    isTimerRunning = false;
                    document.getElementById('startButton').disabled = false;
                    alert('Time is up! Keep writing or reset the timer.');
                }
            }, 1000);
        }

        function pauseTimer() {
            clearInterval(timerInterval);
            isTimerRunning = false;
            document.getElementById('startButton').disabled = false;
            document.getElementById('pauseButton').disabled = true;
        }

        function resetTimer() {
            clearInterval(timerInterval);
            isTimerRunning = false;
            secondsRemaining = 300;
            document.getElementById('freewriteTimer').textContent = '05:00';
            document.getElementById('startButton').disabled = false;
            document.getElementById('pauseButton').disabled = false;
        }

        function saveFreewrite() {
            const text = document.getElementById('freewriteText').value;
            localStorage.setItem('freewritingContent', text);
            alert('Freewriting saved!');
        }

        // ========== QUESTION PROMPTER FUNCTIONALITY ==========
        const questions = [
            "Who is involved or affected by your topic?",
            "What is the central issue or idea?",
            "Where does this topic have relevance?",
            "When is this topic important?",
            "Why does this topic matter?",
            "How does this work or occur?",
            "What problem does this address?",
            "What solutions might exist?",
            "What are the causes?",
            "What are the effects?",
            "What evidence supports this?",
            "What are the counterarguments?",
            "Who would disagree with this?",
            "What questions remain unanswered?",
            "How does this connect to larger issues?",
            "What assumptions are being made?",
            "What would happen if this changed?",
            "How has this evolved over time?",
            "What are the long-term implications?",
            "Who benefits from the current situation?"
        ];

        function generateQuestion() {
            const randomIndex = Math.floor(Math.random() * questions.length);
            document.getElementById('questionDisplay').textContent = questions[randomIndex];
        }

        function saveQuestion() {
            const question = document.getElementById('questionDisplay').textContent;
            if (question === "Click \"Generate Question\" to get started") return;
            
            const savedQuestions = JSON.parse(localStorage.getItem('savedQuestions') || '[]');
            
            if (!savedQuestions.includes(question)) {
                savedQuestions.push(question);
                localStorage.setItem('savedQuestions', JSON.stringify(savedQuestions));
                
                // Update display
                const list = document.getElementById('savedQuestions');
                const item = document.createElement('li');
                item.textContent = question;
                list.appendChild(item);
                
                alert('Question saved!');
            } else {
                alert('Question already saved!');
            }
        }

        // ========== OUTLINE BUILDER FUNCTIONALITY ==========
        let outlineCounter = { 1: 1, 2: 1, 3: 1 };

        function addOutlineItem(level) {
            const outlineContainer = document.getElementById('outlineContainer');
            const newItem = document.createElement('div');
            newItem.className = `outline-item outline-level-${level}`;
            
            let prefix = '';
            if (level === 1) {
                prefix = `${outlineCounter[1]}. `;
                outlineCounter[1]++;
            } else if (level === 2) {
                prefix = `${String.fromCharCode(64 + outlineCounter[2])}. `;
                outlineCounter[2]++;
            } else if (level === 3) {
                prefix = `${outlineCounter[3]}. `;
                outlineCounter[3]++;
            }
            
            newItem.textContent = prefix + 'New Point';
            newItem.draggable = true;
            newItem.contentEditable = true;
            
            outlineContainer.appendChild(newItem);
            saveOutlineData();
        }

        function saveOutline() {
            saveOutlineData();
            alert('Outline saved!');
        }

        function saveOutlineData() {
            const outlineItems = Array.from(document.getElementById('outlineContainer').children).map(item => ({
                text: item.textContent,
                level: parseInt(item.className.match(/outline-level-(\d)/)[1])
            }));
            
            localStorage.setItem('writingOutline', JSON.stringify(outlineItems));
        }

        // ========== CHALLENGE FUNCTIONALITY ==========
        function startChallenge() {
            const topic = document.getElementById('challengeTopic').value.trim();
            if (!topic) {
                alert('Please enter a writing topic first.');
                return;
            }
            
            const selectedTechniques = Array.from(document.querySelectorAll('input[name="technique"]:checked')).map(cb => cb.value);
            if (selectedTechniques.length < 2) {
                alert('Please select at least two techniques to try.');
                return;
            }
            
            document.getElementById('challengeResults').style.display = 'block';
            
            // Save challenge data
            localStorage.setItem('prewritingChallenge', JSON.stringify({
                topic: topic,
                techniques: selectedTechniques,
                timestamp: new Date().toISOString()
            }));
        }

        // ========== DATA MANAGEMENT ==========
        function loadSavedData() {
            // Load freewriting content
            const freewriting = localStorage.getItem('freewritingContent');
            if (freewriting) {
                document.getElementById('freewriteText').value = freewriting;
            }
            
            // Load saved questions
            const savedQuestions = JSON.parse(localStorage.getItem('savedQuestions') || '[]');
            const questionsList = document.getElementById('savedQuestions');
            savedQuestions.forEach(q => {
                const item = document.createElement('li');
                item.textContent = q;
                questionsList.appendChild(item);
            });
            
            // Load list items
            const savedListData = JSON.parse(localStorage.getItem('writingList') || '{}');
            if (savedListData.ideas) {
                const ideaList = document.getElementById('ideaList');
                savedListData.ideas.forEach(itemText => {
                    const item = document.createElement('div');
                    item.className = 'list-item';
                    item.textContent = itemText;
                    item.draggable = true;
                    item.addEventListener('dragstart', handleDragStart);
                    item.addEventListener('dragend', handleDragEnd);
                    ideaList.appendChild(item);
                });
            }
            
            if (savedListData.grouped) {
                const groupedList = document.getElementById('groupedIdeas');
                savedListData.grouped.forEach(itemText => {
                    const item = document.createElement('div');
                    item.className = 'list-item';
                    item.textContent = itemText;
                    item.draggable = true;
                    item.addEventListener('dragstart', handleDragStart);
                    item.addEventListener('dragend', handleDragEnd);
                    groupedList.appendChild(item);
                });
            }
            
            // Load cluster data
            const clusterData = JSON.parse(localStorage.getItem('writingCluster') || '{}');
            if (clusterData.nextId) {
                nextNodeId = clusterData.nextId;
                clusterNodes = clusterData.nodes || [];
                clusterConnections = clusterData.connections || [];
            }
        }

        // Initialize everything when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            loadPreferences();
            
            // Initialize first section as active if no saved state
            if (Object.keys(sectionStates).length === 0) {
                const firstSection = document.querySelector('.section');
                if (firstSection) {
                    firstSection.classList.add('active');
                    sectionStates[firstSection.id] = true;
                }
            }
            
            // Handle URL hash
            if (window.location.hash) {
                const targetSection = document.querySelector(window.location.hash);
                if (targetSection) {
                    targetSection.classList.add('active');
                    sectionStates[targetSection.id] = true;
                    setTimeout(() => {
                        targetSection.scrollIntoView({behavior: 'smooth', block: 'start'});
                    }, 100);
                }
            }
            
            // Set up event listeners
            window.addEventListener('scroll', updateScrollProgress);
            document.getElementById('darkModeToggle').addEventListener('click', toggleDarkMode);
            
            const backToTopBtn = document.getElementById('backToTop');
            if (backToTopBtn) {
                backToTopBtn.addEventListener('click', scrollToTop);
            }
            
            // Initialize interactive features
            setupDropZones();
            generateQuestion();
            initSmoothScrolling();
            loadSavedData();
            updateScrollProgress();
            
            // Initialize cluster center drag functionality
            const centerNode = document.querySelector('.cluster-center');
            if (centerNode) {
                centerNode.addEventListener('mousedown', startDrag);
                clusterNodes.push({
                    id: 'cluster-center',
                    text: centerNode.querySelector('.editable-node').value,
                    x: 190,
                    y: 180
                });
            }
            
            console.log('Scholar\'s Compass - Chapter 9 Enhanced Edition Loaded! 🧭');
        });

        // Performance optimization - throttle scroll events
        let ticking = false;
        function requestTick() {
            if (!ticking) {
                requestAnimationFrame(updateScrollProgress);
                ticking = true;
            }
        }

        window.addEventListener('scroll', function() {
            requestTick();
            ticking = false;
        });
    </script>


</body></html>