/* Chapter 5 Fiction Toolkit (Cards + Hybrid Focus Mode)
   Designed to work alongside existing Scholar's Compass styles. */

:root{
  --tk-accent: #2E8B57;
  --tk-card-bg: var(--card, #ffffff);
  --tk-text: var(--text, #111);
  --tk-border: rgba(0,0,0,.12);
  --tk-shadow: rgba(0,0,0,.08);
}

.skip-link{
  position:absolute;
  left:-9999px;
  top:auto;
  width:1px;
  height:1px;
  overflow:hidden;
}
.skip-link:focus{
  left:12px; top:12px;
  width:auto; height:auto;
  padding:10px 12px;
  background:#fff;
  border:1px solid var(--tk-border);
  border-radius:10px;
  z-index:9999;
}

.sc-topbar{
  display:flex;
  align-items:center;
  gap:12px;
  padding:10px 14px;
  border-bottom:1px solid var(--tk-border);
  background: var(--bg, #fff);
  position:sticky;
  top:0;
  z-index:100;
}
.sc-brand{ font-weight:700; text-decoration:none; color:inherit; }
.sc-topnav{ margin-left:auto; display:flex; gap:12px; }
.sc-topnav a{ text-decoration:none; color:inherit; opacity:.9; }
.sc-topnav a:hover{ opacity:1; }

.sc-hamburger{
  width:40px; height:40px;
  border-radius:10px;
  border:1px solid var(--tk-border);
  background: var(--tk-card-bg);
  cursor:pointer;
}

.sc-layout{
  display:grid;
  grid-template-columns: 280px 1fr;
  min-height: calc(100vh - 58px);
}
.sc-sidebar{
  border-right:1px solid var(--tk-border);
  background: var(--bg, #fff);
}
.sc-sidebar-inner{ padding:14px; }
.sc-sidebar-title{ margin:0 0 10px; font-size:1rem; opacity:.9; }
.sc-sidebar-links{ display:flex; flex-direction:column; gap:8px; }
.sc-sidebar a{ text-decoration:none; color:inherit; opacity:.9; }
.sc-sidebar a:hover{ opacity:1; }

.sc-content{ padding: 18px 18px 40px; max-width: 980px; }
.sc-chapter-header h1{ margin:0 0 6px; }
.sc-chapter-subtitle{ margin:0 0 14px; opacity:.85; }
.sc-chapter-actions{ display:flex; gap:10px; flex-wrap:wrap; }

.sc-btn{
  border:1px solid var(--tk-border);
  background: var(--tk-card-bg);
  border-radius: 999px;
  padding: 8px 12px;
  cursor:pointer;
  text-decoration:none;
  color:inherit;
}
.sc-btn:hover{ border-color: rgba(46,139,87,.55); box-shadow:0 0 0 3px rgba(46,139,87,.12); }

.tk-cards{ margin-top: 10px; }
.tk-group-title{
  margin: 22px 0 10px;
  font-size: 1.05rem;
  opacity: .9;
}
.tk-card-grid{
  display:grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 12px;
}
.tk-card{
  display:block;
  text-decoration:none;
  color:inherit;
  background: var(--tk-card-bg);
  border:1px solid var(--tk-border);
  border-radius: 14px;
  padding: 12px 12px;
  box-shadow: 0 4px 14px var(--tk-shadow);
}
.tk-card:hover,
.tk-card:focus{
  outline:none;
  border-color: rgba(46,139,87,.55);
  box-shadow: 0 0 0 3px rgba(46,139,87,.18);
}
.tk-card-title{ font-weight:700; margin-bottom:6px; }
.tk-card-desc{ opacity:.85; font-size:.95rem; line-height:1.3; }

.tk-sections{ margin-top: 26px; display:flex; flex-direction:column; gap: 16px; }
.tk-section{
  background: var(--tk-card-bg);
  border:1px solid var(--tk-border);
  border-radius: 16px;
  padding: 16px 14px;
  box-shadow: 0 6px 18px var(--tk-shadow);
}
.tk-section-header{ border-bottom:1px solid rgba(0,0,0,.08); padding-bottom: 10px; margin-bottom: 12px; }
.tk-section-title{ margin:0 0 6px; font-size: 1.25rem; }
.tk-section-purpose{ margin:0 0 10px; opacity:.85; }
.tk-section-actions{ display:flex; gap:10px; flex-wrap:wrap; }

.tk-pill{
  border:1px solid var(--tk-border);
  background: transparent;
  border-radius: 999px;
  padding: 6px 10px;
  cursor:pointer;
  text-decoration:none;
  color:inherit;
  font-size: .95rem;
}
.tk-pill:hover,
.tk-pill:focus{
  outline:none;
  border-color: rgba(46,139,87,.55);
  box-shadow: 0 0 0 3px rgba(46,139,87,.12);
}

.tk-section-body h3{ margin-top: 14px; }
.tk-section-body p{ line-height: 1.55; }
.tk-section-body ol{ padding-left: 20px; }
.tk-section-body li{ margin: 6px 0; }

body.tk-focus .tk-cards{ display:none; }
body.tk-focus .tk-section{ display:none; }
body.tk-focus .tk-section.tk-active{ display:block; }

@media (max-width: 980px){
  .sc-layout{ grid-template-columns: 1fr; }
  .sc-sidebar{ display:none; }
  .tk-card-grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .sc-content{ padding: 16px 14px 40px; }
}
@media (max-width: 540px){
  .tk-card-grid{ grid-template-columns: 1fr; }
}

@media print{
  .sc-topbar, .sc-sidebar, .tk-cards, .tk-section-actions, .sc-chapter-actions{ display:none !important; }
  .sc-content{ padding:0; max-width:none; }
  .tk-section{ box-shadow:none; border: 0; padding: 0; }
  .tk-section-header{ border:0; margin-bottom: 8px; }
}